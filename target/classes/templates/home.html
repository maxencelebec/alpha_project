<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title> Alpha </title>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="icon" type="image/png" href="alphish_icon.png" />
    <link rel="stylesheet" href="home.css">
</head>

<body>

<div class="header" th:insert="header"> </div>

<div class="poster">
	<form method="post" class="newpost" th:action="@{/publication}" th:object="${publicationForm}">
		<input type="text" placeholder="Titre..." name="titre"/>
		<textarea rows="5" cols="40" placeholder="Nouveau post..." name="contenu"></textarea>
		<input type="submit" value="Publier" />
	</form>
</div>

<div class="main">
	<div class="posts">
	
	   <h1> Posts </h1>
	    
	    	<fieldset th:each="sujet : ${sujet}" class="subject">
			    <legend>Sujet : <sujet style="font-family:bold;" th:text="${sujet.titre}"></sujet></legend>
			  		<p th:text="${sujet.contenu}"> </p>
			  	
				  	<div style="display:flex">
				  		<a th:href="@{/like(id_post=${sujet.id})}" class="liker">J'aime</a>
				  		<div class="likes" style="margin-left:10px" th:text="${sujet.list_like}"></div>
				  	</div>
				  	<fieldset>
			   		<legend>Answers</legend>
			   			<div th:each="commentaire : ${commentaire}">
				   			<fieldset th:if="${commentaire.id_post}==${sujet.id}">
				   				<legend th:text="${commentaire.date}"></legend>
				   				<p th:if="${commentaire.id_post}==${sujet.id}" th:text="${commentaire.contenu}"></p>
				  			</fieldset>
			   			</div>
			  			
			   			<fieldset>
			   				<legend>Votre r√©ponse</legend>
			   				<form method="post" th:action="@{/commentaire}" th:object="${commentaireForm}">
								<textarea rows="5" cols="40" placeholder="Commentez..." name="contenu"></textarea>
								<input type="hidden" th:value="${sujet.id}" name="id_post"/>
								<input type="submit" value="Publier" />
							</form>
			   			</fieldset>
			  		</fieldset>
		    </fieldset>
	</div>
	
	<div class="filter">
		
		<form method="post" action="#">
			<input type="text" placeholder="Search for a subject..." />
		</form>
		
		<fieldset>
	    <legend>Filter</legend>
	    </fieldset>
	
	</div>
</div>








</body>
</html>







